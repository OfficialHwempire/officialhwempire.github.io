---
date: 2025-02-08
layout: post
title: Spring web 4 malicious attack
categories: JAVA
tags: [개발 공부]

---

# Spring 웹 애플리케이션에서 발생할 수 있는 4가지 보안 공격

## 1. CSRF(Cross-Site Request Forgery) 란?

CSRF는 유저가 로그인 상태일 때 유저의 의도와 무관한 요청을 서버로 보내는 보안 공격입니다.
브라우저가 자동으로 쿠키를 전송하고 서버가 브라우저의 요청을 충분히 검증하지 못할 때 취약합니다.

## 2. CSRF 대응전략

Spring Security 에서는 Spring 서버가 CSRF 토큰 발급하여 브라우저가 쿠키를 전송할 때 CSRF 토큰을 통해
브라우저 요청이 적합한 요청인지 검증합니다.

## 3. XSS(Cross-Site Scripting) 란?
XSS는 악성 스크립트를 웹페이지에 집어넣어 다른 유저의 브라우저에서 실행되도록 하는 보안 공격입니다.
XSS를 통해 유저 세션 쿠키 탈취, JWT 탈취, 악성 사이트로 접속 유도등의 문제를 유발할 수 있습니다.

## 4. XSS 대응 전략
Spring Security 에서는 HttpOnly 쿠키를 사용해 JAVASCIPT 가 쿠키를 접근 불가하도록 설정하고 있습니다.
또한 추가적으로 JWT를 localStorage에 저장하지 않는 방식을 XSS 공격을 사전에 대응할 수 있습니다. 

## 5. Session Fixation 이란?
공격자가 작성한 세션 ID를 유저가 사용하도록 유도한 후, 유저가 로그인 시 해당 세션을 탈취하는 보안 공격입니다

## 6. Session Fixation 대응 전략
대응 방식으로는 로그인 인증 성공시 새로운 세션 ID를 발급하는 것으로 기존 세션을 무효화하는 방식이 있습니다.

## 7 . JWT (JSON Web Token) 탈취

JWT 토큰이 탈취 될 경우 공격자가 사실상 해당 유저가 사용할 수 있는 서비스를 전부 접속 가능하게 됩니다.

## 8 . JWT 탈취 대응 전략

HTTPS 를 사용하여 평문 전송을 미연에 방지하고 AccessToken의 유효시간을 짧게 설정하고 Refresh Token으로 갱신
하는 방식을 채택해 대응 할 수 있습니다.

